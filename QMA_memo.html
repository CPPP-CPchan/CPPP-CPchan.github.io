<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QMA 検定メモ - しぴちゃん公式サイト</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="works.css">
</head>
<body>
  <div id="header-container"></div>

  <main>
    <div class="works-header">
      <h1>QMA 検定メモ</h1>
      <p>QMAの検定配信などで作っているメモのまとめです。配信中にその場で回収しているので間違いがあるかも。<br>
        スマホで見る際にはGoogleスプレッドシートのアプリで見るのがおすすめ。
        <br>まだデータ入れ終わってないので途中状態。</p>
    </div>

    <div class="search-filter">
      <input type="text" class="search-box" placeholder="検定名を検索..." id="searchInput">
    </div>

    <div class="works-grid" id="worksGrid">
    </div>

    <div class="no-results" id="noResults" style="display: none;">
      条件に一致する検定が見つかりませんでした
    </div>
  </main>

  <div id="footer-container"></div>

  <script src="src/common.js"></script>
  <script>
    // === データ定義（ここを編集するだけでOK）===
    const examData = [
      {
        name: "BEMANI MusiQ 2024年",
        description: "MusiQのメモなんて他人が見てなんの役にも立たない気がするが、一応置いとく",
        url: "https://docs.google.com/spreadsheets/d/11vQQrgLZjZ06AuH0n8kEFj7YyDPTA_btSn4-irmwiDs/edit?usp=sharing"
      },
      {
        name: "QMA検定",
        description: "QMA検定。画像問題が多いのでメモが難しい。難易度は低い。",
        url: "https://docs.google.com/spreadsheets/d/1FBz6KOU_MKgMRP-2NrelVYqQgGhdBiE-nNs6QXDxO0w/edit?usp=sharing"
      },
      {
        name: "SF検定",
        description: "SF全般。小説とハリウッドが多いのだが、ガンダムとかも出る",
        url: "https://docs.google.com/spreadsheets/d/1pQ5up5ZmDOHCedDJ5iVFmysBkMxxGSiANlSlt4yMNVo/edit?usp=sharing"
      },
      {
        name: "アジア・オセアニア検定",
        description: "海外の地域検定シリーズ。",
        url: "https://docs.google.com/spreadsheets/d/1552X3tKC7wooND5WR5Sr8V-AkeP8e5pGkpsombQMOMs/edit?usp=sharing"
      },
      {
        name: "アニマル検定",
        description: "すぐ終わってしまったので全然メモがない。",
        url: "https://docs.google.com/spreadsheets/d/1inLbdMB0QtrqWx9mTGG2F8r9MjmlfskVAM-seefomps/edit?usp=sharing"
      },
      {
        name: "アニメソング検定",
        description: "アニソン検定。難易度はともかく、問題数がめちゃくちゃ多いので注意",
        url: "https://docs.google.com/spreadsheets/d/1oDBkATi5wVeQtYnHtpY58IfmKCLs-80y_5CYxwm3lxY/edit?usp=sharing"
      },
      {
        name: "アメリカ検定",
        description: "海外の地域検定シリーズ。地名、大統領などに加えてスポーツが出るのがやや珍しい",
        url: "https://docs.google.com/spreadsheets/d/19yv0Wi2zCQi3lind2MwAfyMAxjac2KHmiBAQg2mgXI0/edit?usp=sharing"
      },
      {
        name: "お金検定",
        description: "通貨単位や貨幣制度だけでなく、税金や会計制度なども出る。すぐ終わってしまったのでメモがない。",
        url: "https://docs.google.com/spreadsheets/d/1faaOiuOkDMzcuQX4pqb0b1GuI8Egkw7F2nPSENK1Z9k/edit?usp=sharing"
      },
      {
        name: "お笑い検定",
        description: "苦手。問題数が多い。マルチセレクト形式が多い。エフェもちょっと多い。",
        url: "https://docs.google.com/spreadsheets/d/1qdn3uig894K0zXwXOs3p5bhx2OR8A_DaRWJYBo6zLhE/edit?usp=sharing"
      },
      {
        name: "クラシック検定",
        description: "楽曲、作曲家だけでなく演奏家も出る。連想やや多めで並べ替えが難しい",
        url: "https://docs.google.com/spreadsheets/d/1EWAZ_8-J0kYPza12Hx4ic9kto16SKS8p_KufG5GvIug/edit?usp=sharing"
      },
    ];

    // カードを生成
    function generateWorkCards() {
      const worksGrid = document.getElementById('worksGrid');
      
      examData.forEach(exam => {
        const workCard = document.createElement('div');
        workCard.className = 'work-card';
        workCard.dataset.search = exam.name;
        
        workCard.innerHTML = `
          <div class="work-title">${exam.name}</div>
          <div class="work-description">${exam.description}</div>
          <a href="${exam.url}" class="work-link" target="_blank">開く</a>
        `;
        
        worksGrid.appendChild(workCard);
      });
    }

    document.addEventListener('DOMContentLoaded', generateWorkCards);

    // 検索機能
    const searchInput = document.getElementById('searchInput');
    const noResults = document.getElementById('noResults');

    searchInput.addEventListener('input', filterWorks);
    
    function filterWorks() {
      const searchTerm = searchInput.value.toLowerCase();
      const workCards = document.querySelectorAll('.work-card');
      let visibleCount = 0;
      
      workCards.forEach(card => {
        const searchData = card.dataset.search.toLowerCase();
        const searchMatch = searchData.includes(searchTerm);
        
        if (searchMatch) {
          card.style.display = 'block';
          visibleCount++;
        } else {
          card.style.display = 'none';
        }
      });
      
      // 結果がない場合のメッセージ表示
      noResults.style.display = visibleCount === 0 ? 'block' : 'none';
    }
  </script>
</body>
</html>
