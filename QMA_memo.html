<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QMA 検定メモ - しぴちゃん公式サイト</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="works.css">
</head>
<body>
  <div id="header-container"></div>

  <main>
    <div class="works-header">
      <h1>QMA 検定メモ</h1>
      <p>QMAの検定配信などで作っているメモのまとめです。配信中にその場で回収しているので間違いがあるかも。<br>
        スマホで見る際にはGoogleスプレッドシートのアプリで見るのがおすすめ。</p>
    </div>

    <div class="search-filter">
      <input type="text" class="search-box" placeholder="検定名を検索..." id="searchInput">
    </div>

    <div class="works-grid" id="worksGrid">
    </div>

    <div class="no-results" id="noResults" style="display: none;">
      条件に一致する検定が見つかりませんでした
    </div>
  </main>

  <div id="footer-container"></div>

  <script src="src/common.js"></script>
  <script>
    // === データ定義（ここを編集するだけでOK）===
    const examData = [
      {
        name: "アニメ・ゲーム検定",
        description: "アニメ・ゲーム検定のメモです。基本的な問題から応用まで。",
        url: "https://docs.google.com/spreadsheets/d/example1"
      },
      {
        name: "スポーツ検定",
        description: "スポーツ検定のメモです。野球、サッカー、バスケなど幅広く。",
        url: "https://docs.google.com/spreadsheets/d/example2"
      },
      {
        name: "芸能検定",
        description: "芸能検定のメモです。俳優、歌手、タレントなど。",
        url: "https://docs.google.com/spreadsheets/d/example3"
      },
      {
        name: "文系学問検定",
        description: "文系学問検定のメモです。歴史、文学、哲学など。",
        url: "https://docs.google.com/spreadsheets/d/example4"
      },
      {
        name: "理系学問検定",
        description: "理系学問検定のメモです。数学、物理、化学、生物など。",
        url: "https://docs.google.com/spreadsheets/d/example5"
      }
      // 新しい検定を追加する場合は、上記の形式でここに追加するだけ
    ];

    // === 以下は自動生成コード（基本的に編集不要）===
    function generateWorkCards() {
      const worksGrid = document.getElementById('worksGrid');
      
      examData.forEach(exam => {
        const workCard = document.createElement('div');
        workCard.className = 'work-card';
        workCard.dataset.search = exam.name;
        
        workCard.innerHTML = `
          <div class="work-title">${exam.name}</div>
          <div class="work-description">${exam.description}</div>
          <a href="${exam.url}" class="work-link" target="_blank">開く</a>
        `;
        
        worksGrid.appendChild(workCard);
      });
    }

    // ページ読み込み時にカードを生成
    document.addEventListener('DOMContentLoaded', generateWorkCards);

    // 検索機能
    const searchInput = document.getElementById('searchInput');
    const noResults = document.getElementById('noResults');

    searchInput.addEventListener('input', filterWorks);
    
    function filterWorks() {
      const searchTerm = searchInput.value.toLowerCase();
      const workCards = document.querySelectorAll('.work-card');
      let visibleCount = 0;
      
      workCards.forEach(card => {
        const searchData = card.dataset.search.toLowerCase();
        const searchMatch = searchData.includes(searchTerm);
        
        if (searchMatch) {
          card.style.display = 'block';
          visibleCount++;
        } else {
          card.style.display = 'none';
        }
      });
      
      // 結果がない場合のメッセージ表示
      noResults.style.display = visibleCount === 0 ? 'block' : 'none';
    }
  </script>
</body>
</html>
